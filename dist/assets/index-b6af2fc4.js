var S=Object.defineProperty;var g=(e,o,d)=>o in e?S(e,o,{enumerable:!0,configurable:!0,writable:!0,value:d}):e[o]=d;var m=(e,o,d)=>(g(e,typeof o!="symbol"?o+"":o,d),d);import{H as L,u as w}from"./HttpClient-042fc245.js";import{a as C}from"./index-4821d3fa.js";import{_ as M}from"./InputDropdown.vuevuetypescriptsetuptruelang-fe3480c6.js";import{W as O}from"./WorklistService-d7fc34b8.js";import{d as R,r as c,a as T,e as y,a7 as x,ac as t,c as W,u as B,aa as a,ae as j,af as D,ag as H,a6 as K}from"./plugin-vueexport-helper-50c92bea.js";import"./index-3c58d5d9.js";import"./index-90b0ce28.js";import"./dayjs.min-78ae9b26.js";/* empty css              */import"./AgGrid.vuevuetypescriptsetuptruelang-ab623fe9.js";import"./Input-171d1ec7.js";class b{static show(o){return this.HttpClient.axiosInstance.get("/reports/profit_and_loss",{params:{worklist_id:o}})}}m(b,"HttpClient",new L);const s=e=>(D("data-v-e4af85e0"),e=e(),H(),e),F={style:{width:"350px"},class:"mb-3 d-flex align-items-center"},G=s(()=>t("span",{class:"fw-bold me-3"},"Projek",-1)),J={key:0,class:"card card-custom card-dense"},U={class:"card-body"},V=s(()=>t("h5",null,"Profit & Loss",-1)),$={class:"d-flex mb-1"},q=s(()=>t("div",{class:"fw-bold",style:{width:"100px"}},"Projek",-1)),z={style:{flex:"1"}},Q={class:"d-flex mb-1"},X=s(()=>t("div",{class:"fw-bold",style:{width:"100px"}},"No LS",-1)),Y={style:{flex:"1"}},Z={class:"d-flex mb-1"},tt=s(()=>t("div",{class:"fw-bold",style:{width:"100px"}},"No PR",-1)),st={style:{flex:"1"}},et={class:"d-flex mb-1"},ot=s(()=>t("div",{class:"fw-bold",style:{width:"100px"}},"No PO",-1)),lt={style:{flex:"1"}},dt={class:"d-flex mb-1"},it=s(()=>t("div",{class:"fw-bold",style:{width:"100px"}},"No SPK",-1)),at={style:{flex:"1"}},rt={class:"mt-4"},nt={id:"table-profit",class:"table table-bordered"},ct=s(()=>t("thead",null,[t("tr",null,[t("th"),t("th",null,"Jasa"),t("th",null,"Material"),t("th",null,"Consumable"),t("th",null,"Operasional"),t("th",null,"Progress")])],-1)),_t=s(()=>t("tr",null,[t("th",{style:{width:"200px"}},"NILAI PO/PH SEBELUM PPN"),t("td",null,"Rp 200.000,00"),t("td"),t("td"),t("td"),t("td")],-1)),ht=s(()=>t("tr",null,[t("th",{style:{width:"200px"}},"ESTIMASI PENGELUARAN"),t("td"),t("td"),t("td"),t("td"),t("td")],-1)),ut=s(()=>t("tr",null,[t("th",{style:{width:"200px"}},"PEMBELIAN MATERIAL SEBELUM PPN"),t("td",null,"Rp 200.000,00"),t("td"),t("td"),t("td"),t("td")],-1)),pt=s(()=>t("tr",null,[t("th",{style:{width:"200px"}},"NILAI SPK / GAJI PEKERJA"),t("td"),t("td"),t("td"),t("td"),t("td")],-1)),ft=s(()=>t("tr",null,[t("th",{style:{width:"200px"}},"PEMAKAIAN CONSUMABLE"),t("td"),t("td"),t("td"),t("td"),t("td")],-1)),vt=s(()=>t("tr",null,[t("th",{style:{width:"200px"}},"OPERASIONAL LAPANGAN"),t("td"),t("td"),t("td"),t("td"),t("td")],-1)),mt=s(()=>t("tr",null,[t("th",{style:{width:"200px"}},"ESTIMASI PROFIT"),t("td"),t("td"),t("td"),t("td"),t("td")],-1)),wt=s(()=>t("tr",null,[t("th",{style:{width:"200px"}},"PROFIT / LOSS"),t("td"),t("td"),t("td"),t("td"),t("td")],-1)),yt=s(()=>t("th",{style:{width:"200px"}},"NET PROFIT",-1)),xt={colspan:"5",class:"fw-bold"},bt=R({__name:"index",setup(e){const o=[{field:"worklist_number",headerName:"Kode Projek"},{field:"title",headerName:"Judul Projek"},{field:"worklist_date",headerName:"Tgl Projek",...C}],d=c([]),_=c(""),i=c(),{run:P,loading:k,response:h}=w(),{run:N,loading:Pt,response:u}=w();async function I(){var l;try{await P(O.list("2022-01-01","2050-01-01")),(l=h.value)!=null&&l.success&&(d.value=h.value.data)}catch{}}async function A(l){var r;try{await N(b.show(l)),(r=u.value)!=null&&r.success&&(i.value=u.value.data)}catch{}}function E(l){_.value=`${l.worklist_number} - ${l.title}`,A(l.id)}return T(()=>{I()}),(l,r)=>{var n,p,f,v;return y(),x("div",null,[t("div",F,[G,W(M,{"column-defs":o,"grid-data":d.value,loading:B(k),value:void 0,"value-display":_.value,onChange:E},null,8,["grid-data","loading","value-display"])]),i.value?(y(),x("div",J,[t("div",U,[V,t("div",null,[t("div",$,[q,t("div",z,a(i.value.worklist.title),1)]),t("div",Q,[X,t("div",Y,a((n=i.value.worklist.survey_report)==null?void 0:n.survey_report_number),1)]),t("div",Z,[tt,t("div",st,a((p=i.value.worklist.worklist_purchase_requisition)==null?void 0:p.purchase_requisition_number),1)]),t("div",et,[ot,t("div",lt,a((f=i.value.worklist.worklist_purchase_order)==null?void 0:f.purchase_order_number),1)]),t("div",dt,[it,t("div",at,a((v=i.value.worklist.work_order)==null?void 0:v.letter_number),1)])]),t("div",rt,[t("table",nt,[ct,t("tbody",null,[_t,ht,ut,pt,ft,vt,mt,wt,t("tr",null,[yt,t("td",xt,a(i.value.total_profit_or_loss),1)])])])])])])):j("",!0)])}}});const Tt=K(bt,[["__scopeId","data-v-e4af85e0"]]);export{Tt as default};
